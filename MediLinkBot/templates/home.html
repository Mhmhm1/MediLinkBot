
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MediLink – Home</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root {
      --glass-bg: rgba(255, 255, 255, 0.08);
      --glass-brd: rgba(255, 255, 255, 0.25);
      --text-on-dark: #eaf1ff;
    }
    body {
      min-height: 100vh;
      background: linear-gradient(120deg, #0b1635, #0f2a6b, #143b8e, #0c5cb6);
      background-size: 300% 300%;
      animation: bgShift 18s ease infinite;
      color: var(--text-on-dark);
    }
    @keyframes bgShift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
    .nav-wrap { backdrop-filter: blur(10px); background: var(--glass-bg); border: 1px solid var(--glass-brd); border-radius: 14px; }
    .hero { backdrop-filter: blur(14px); background: radial-gradient(1200px 500px at 10% 10%, rgba(255,255,255,0.12), rgba(255,255,255,0.06)), var(--glass-bg); border: 1px solid var(--glass-brd); border-radius: 18px; box-shadow: 0 20px 60px rgba(0,0,0,0.35); }
    .hero .lead { opacity: 0.95; }
    .card-elevated { background: rgba(255,255,255,0.06); border: 1px solid var(--glass-brd); border-radius: 14px; color: var(--text-on-dark); box-shadow: 0 10px 30px rgba(0,0,0,0.35); transition: transform .2s ease, box-shadow .2s ease; }
    .card-elevated:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(0,0,0,0.45); }
    .list-group-item { background: transparent; color: var(--text-on-dark); border-color: rgba(255,255,255,0.12) }
    .small-muted { color: rgba(234,241,255,0.8); font-size: .9rem; }
    .floating-cta { position: fixed; right: 24px; bottom: 24px; z-index: 1030; box-shadow: 0 14px 30px rgba(13,110,253,0.45); border-radius: 12px; }
    a.btn, .btn { border-radius: 10px; }
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style> body,button,input{font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial } </style>
</head>

<body>
  <div class="container py-4">
    <header class="nav-wrap d-flex justify-content-between align-items-center px-3 py-2 mb-4">
      <h2 class="m-0">MediLink</h2>
      <div class="d-flex align-items-center gap-2">
        {% if current_user.is_authenticated %}
          <span class="small-muted d-none d-md-inline">Signed in as {{ current_user.email }}</span>
          <a href="{{ url_for('profile') }}" class="btn btn-outline-light btn-sm">Profile</a>
          <a href="{{ url_for('logout') }}" class="btn btn-outline-light btn-sm">Logout</a>
        {% else %}
          <a href="{{ url_for('login') }}" class="btn btn-outline-light btn-sm me-2">Login</a>
          <a href="{{ url_for('signup') }}" class="btn btn-primary btn-sm">Sign up</a>
        {% endif %}
      </div>
    </header>

    <section class="hero p-4 p-md-5 mb-4">
      <div class="row align-items-center">
        <div class="col-md-7">
          <h1 class="fw-bold mb-3">Your secure assistant for symptom guidance and doctor conversations</h1>
          <p class="lead mb-4">Use MediLink to explore likely conditions, review safe medication options with a doctor, and continue your chat anytime.</p>
          <a href="{{ url_for('symptoms') }}" class="btn btn-light btn-lg fw-semibold">Start Diagnostics</a>
        </div>
        <div class="col-md-5 text-md-end mt-4 mt-md-0">
          <div class="bg-white text-dark rounded-3 p-3 shadow-sm d-inline-block">
            <div class="fw-semibold">Why MediLink?</div>
            <ul class="m-0 ps-3">
              <li>Clear, clinician‑style guidance</li>
              <li>Specialist matching and chat</li>
              <li>Summaries you can share with your doctor</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    {% if current_user.is_authenticated %}
    <section class="mb-4">
      <div class="card-elevated p-4">
        <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3">
          <div>
            <h4 class="m-0">Continue where you left off</h4>
            <div class="small-muted">Access your past summaries, chats, and appointments.</div>
          </div>
          <div class="d-flex gap-2">
            <a href="{{ url_for('history') }}" class="btn btn-outline-light btn-lg">History</a>
            <a href="{{ url_for('bookings') }}" class="btn btn-light btn-lg">My Appointments</a>
          </div>
        </div>
      </div>
    </section>
    {% else %}
    <section class="mb-4">
      <div class="card-elevated p-3">
        <div class="card-body d-flex flex-column flex-md-row align-items-md-center justify-content-between">
          <div class="mb-3 mb-md-0">
            <h5 class="m-0">Save your progress with a free account</h5>
            <div class="small-muted">Your chats and summaries will be available across devices.</div>
          </div>
          <div class="d-flex align-items-center gap-2">
            {% if current_user.is_authenticated %}
              <a href="{{ url_for('symptoms') }}" class="btn btn-primary btn-lg">Start Diagnostics</a>
            {% else %}
              <a href="{{ url_for('login', next=url_for('symptoms')) }}" class="btn btn-primary btn-lg">Start Diagnostics</a>
            {% endif %}
            <a href="{{ url_for('login', next=url_for('history')) }}" class="btn btn-outline-light btn-lg">View History</a>
            <a href="{{ url_for('login', next=url_for('bookings')) }}" class="btn btn-outline-light btn-lg">My Appointments</a>
          </div>
        </div>
      </div>
    </section>
    {% endif %}
  </div>

  {% if current_user.is_authenticated %}
    <a href="{{ url_for('symptoms') }}" class="btn btn-primary btn-lg floating-cta d-md-none">Start Diagnostics</a>
  {% else %}
    <a href="{{ url_for('login', next=url_for('symptoms')) }}" class="btn btn-primary btn-lg floating-cta d-md-none">Start Diagnostics</a>
  {% endif %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
